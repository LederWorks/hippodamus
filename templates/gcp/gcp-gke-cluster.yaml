name: "gcp-gke-cluster"
description: "Google Kubernetes Engine (GKE) Cluster"
version: "1.0"

dependencies:
  - name: "custom"
    type: "container" #container or group, defaults to container
    required: false
    relationship: "parent"
    description: "Custom parent object"
  - name: "region"
    type: "gcp-region"
    required: true
    relationship: "parent"
    description: "Parent GCP region"

parameters:
  - name: "clusterName"
    type: "string"
    default: "gke-cluster"
    description: "GKE cluster name"
  - name: "version"
    type: "string"
    default: "1.28"
    description: "Kubernetes version"
  - name: "nodePoolName"
    type: "string"
    default: "default-pool"
    description: "Node pool name"
  - name: "machineType"
    type: "string"
    default: "e2-standard-4"
    description: "Machine type"
  - name: "nodeCount"
    type: "number"
    default: 3
    description: "Node count"
  - name: "fillColor"
    type: "color"
    default: "#E3F2FD"
    description: "Background color"
  - name: "strokeColor"
    type: "color"
    default: "#1976D2"
    description: "Border color"

elements:
  - type: "container"
    properties:
      width: 600
      height: 300
      label: "GKE: {{.clusterName}} ({{.version}})"
      custom:
        clusterName: "{{.clusterName}}"
        version: "{{.version}}"
        nodePoolName: "{{.nodePoolName}}"
        machineType: "{{.machineType}}"
        nodeCount: "{{.nodeCount}}"
    style:
      fillColor: "{{.fillColor}}"
      strokeColor: "{{.strokeColor}}"
      strokeWidth: 2.0
      fontFamily: "Segoe UI"
      fontSize: 13
      fontColor: "#000000"
      fontStyle: "bold"
      textAlign: "center"
      verticalAlign: "top"
      rounded: true
      shadow: true
    nesting:
      mode: "container"
      autoResize: true
      padding:
        top: 35
        right: 15
        bottom: 15
        left: 15
      spacing: 20
      arrangement: "free"
