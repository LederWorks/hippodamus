version: "1.0"

metadata:
  title: "Multi-Provider Architecture Demo"
  description: "Comprehensive example showcasing AWS and Core providers working together"
  author: "Hippodamus Provider System"

diagram:
  pages:
    - id: "architecture"
      name: "System Architecture"
      elements:
        # Title section using core text
        - id: "main-title"
          name: "Main Title"
          type: "template"
          template: "core-text"
          position: { x: 50, y: 20 }
          parameters:
            label: "Multi-Cloud Architecture Overview"
            fontSize: 20
            fontFamily: "Arial"
            fontColor: "#1A237E"
            fontWeight: "bold"

        # AWS Infrastructure section
        - id: "aws-section"
          name: "AWS Infrastructure Group"
          type: "template"
          template: "core-group"
          position: { x: 50, y: 80 }
          parameters:
            label: "AWS Cloud Infrastructure"
            fillColor: "#FFF3E0"
            strokeColor: "#FF9800"
            arrangement: "vertical"
            spacing: 30
            padding:
              top: 30
              right: 20
              bottom: 20
              left: 20

        - id: "aws-org"
          name: "AWS Organization"
          type: "template"
          template: "aws-organization"
          position: { x: 70, y: 130 }
          parameters:
            orgName: "TechCorp Global"
            managementAccountId: "123456789012"
            enableConsolidatedBilling: true
            enableCloudTrail: true
            enableSCPs: true

        - id: "prod-vpc"
          name: "Production VPC"
          type: "template"
          template: "aws-vpc"
          position: { x: 70, y: 200 }
          parameters:
            vpcName: "production-vpc"
            cidrBlock: "10.0.0.0/16"
            region: "us-east-1"
            enableDnsHostnames: true
            enableDnsSupport: true
            tags:
              Environment: "production"
              Team: "platform"
              CostCenter: "engineering"

        - id: "staging-vpc"
          name: "Staging VPC"
          type: "template"
          template: "aws-vpc"
          position: { x: 70, y: 270 }
          parameters:
            vpcName: "staging-vpc"
            cidrBlock: "10.1.0.0/16"
            region: "us-west-2"
            enableDnsHostnames: true
            enableDnsSupport: true
            tags:
              Environment: "staging"
              Team: "platform"

        # Application Layer using Core provider
        - id: "app-swimlane"
          name: "Application Layer"
          type: "template"
          template: "core-swimlane"
          position: { x: 400, y: 80 }
          parameters:
            label: "Application Architecture"
            orientation: "vertical"
            headerSize: 40
            fillColor: "#E8F5E8"
            strokeColor: "#4CAF50"
            arrangement: "horizontal"
            spacing: 25

        - id: "web-tier"
          name: "Web Tier"
          type: "template"
          template: "core-shape"
          position: { x: 420, y: 140 }
          parameters:
            label: "Web Tier\n(Load Balancer)"
            shape: "rectangle"
            fillColor: "#E3F2FD"
            strokeColor: "#1976D2"
            width: 140
            height: 80
            rounded: true

        - id: "app-tier"
          name: "Application Tier"
          type: "template"
          template: "core-shape"
          position: { x: 580, y: 140 }
          parameters:
            label: "Application Tier\n(API Services)"
            shape: "rectangle"
            fillColor: "#F3E5F5"
            strokeColor: "#7B1FA2"
            width: 140
            height: 80
            rounded: true

        - id: "data-tier"
          name: "Data Tier"
          type: "template"
          template: "core-shape"
          position: { x: 740, y: 140 }
          parameters:
            label: "Data Tier\n(Database)"
            shape: "cylinder"
            fillColor: "#E8F5E8"
            strokeColor: "#388E3C"
            width: 120
            height: 80

        # Connections between tiers
        - id: "web-to-app"
          name: "Web to App Connection"
          type: "template"
          template: "core-connector"
          parameters:
            source: "web-tier"
            target: "app-tier"
            label: "HTTPS"
            strokeColor: "#424242"
            strokeWidth: 2
            sourcePort: "right"
            targetPort: "left"

        - id: "app-to-data"
          name: "App to Data Connection"
          type: "template"
          template: "core-connector"
          parameters:
            source: "app-tier"
            target: "data-tier"
            label: "SQL"
            strokeColor: "#424242"
            strokeWidth: 2
            sourcePort: "right"
            targetPort: "left"

        # Monitoring section
        - id: "monitoring-group"
          name: "Monitoring & Observability"
          type: "template"
          template: "core-group"
          position: { x: 50, y: 400 }
          parameters:
            label: "Monitoring & Observability"
            fillColor: "#FFF8E1"
            strokeColor: "#FFC107"
            arrangement: "horizontal"
            spacing: 40
            collapsible: true
            padding:
              top: 25
              right: 15
              bottom: 15
              left: 15

        - id: "metrics"
          name: "Metrics Dashboard"
          type: "template"
          template: "core-shape"
          position: { x: 70, y: 450 }
          parameters:
            label: "Metrics\nDashboard"
            shape: "rectangle"
            fillColor: "#E1F5FE"
            strokeColor: "#0277BD"
            width: 100
            height: 60

        - id: "logs"
          name: "Log Aggregation"
          type: "template"
          template: "core-shape"
          position: { x: 190, y: 450 }
          parameters:
            label: "Log\nAggregation"
            shape: "rectangle"
            fillColor: "#FCE4EC"
            strokeColor: "#C2185B"
            width: 100
            height: 60

        - id: "alerts"
          name: "Alert Manager"
          type: "template"
          template: "core-shape"
          position: { x: 310, y: 450 }
          parameters:
            label: "Alert\nManager"
            shape: "rectangle"
            fillColor: "#FFEBEE"
            strokeColor: "#D32F2F"
            width: 100
            height: 60

        # Documentation note
        - id: "note"
          name: "Architecture Note"
          type: "template"
          template: "core-text"
          position: { x: 400, y: 400 }
          parameters:
            label: "âœ¨ This diagram demonstrates the power of the Hippodamus provider system,\ncombining AWS infrastructure components with flexible UI elements!"
            fontSize: 12
            fontFamily: "Arial"
            fontColor: "#37474F"
            fontStyle: "italic"
